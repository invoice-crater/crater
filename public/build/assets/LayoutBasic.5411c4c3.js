import{u as X}from"./auth.440333ed.js";import{aZ as j,d as x,a_ as T,a$ as R,b0 as D,b1 as K,b2 as Y,e as w,b3 as P,b4 as L,f as z,ag as H,a8 as ee,b5 as te,b6 as se,b7 as V,a5 as F,b8 as $,l as ae,M as Q,m as oe,E as re,r as O,o as g,j as S,h as f,b as a,x as n,Q as le,c as I,F as U,i as E,n as N,z as B,t as y,a as d,b9 as ne,ba as ue,bb as ie,bc as ce,bd as de,be as pe,g as fe}from"./main.f7d24694.js";import{u as G}from"./global.52d627d6.js";import{N as me}from"./NotificationRoot.c932c45e.js";var ge=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(ge||{});let Z=Symbol("DisclosureContext");function A(s){let i=F(Z,null);if(i===null){let p=new Error(`<${s} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,A),p}return i}let q=Symbol("DisclosurePanelContext");function ve(){return F(q,null)}let he=j({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(s,{slots:i,attrs:p}){let t=x(s.defaultOpen?0:1),e=x(null),v=x(null),r={buttonId:x(`headlessui-disclosure-button-${T()}`),panelId:x(`headlessui-disclosure-panel-${T()}`),disclosureState:t,panel:e,button:v,toggleDisclosure(){t.value=R(t.value,{[0]:1,[1]:0})},closeDisclosure(){t.value!==1&&(t.value=1)},close(o){r.closeDisclosure();let m=(()=>o?o instanceof HTMLElement?o:o.value instanceof HTMLElement?D(o):D(r.button):D(r.button))();m?.focus()}};return K(Z,r),Y(w(()=>R(t.value,{[0]:P.Open,[1]:P.Closed}))),()=>{let{defaultOpen:o,...m}=s,h={open:t.value===0,close:r.close};return L({theirProps:m,ourProps:{},slot:h,slots:i,attrs:p,name:"Disclosure"})}}}),be=j({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(s,{attrs:i,slots:p,expose:t}){let e=A("DisclosureButton"),v=ve(),r=w(()=>v===null?!1:v.value===e.panelId.value);z(()=>{r.value||s.id!==null&&(e.buttonId.value=s.id)}),H(()=>{r.value||(e.buttonId.value=null)});let o=x(null);t({el:o,$el:o}),r.value||ee(()=>{e.button.value=o.value});let m=te(w(()=>({as:s.as,type:i.type})),o);function h(){var l;s.disabled||(r.value?(e.toggleDisclosure(),(l=D(e.button))==null||l.focus()):e.toggleDisclosure())}function b(l){var c;if(!s.disabled)if(r.value)switch(l.key){case $.Space:case $.Enter:l.preventDefault(),l.stopPropagation(),e.toggleDisclosure(),(c=D(e.button))==null||c.focus();break}else switch(l.key){case $.Space:case $.Enter:l.preventDefault(),l.stopPropagation(),e.toggleDisclosure();break}}function _(l){switch(l.key){case $.Space:l.preventDefault();break}}return()=>{var l;let c={open:e.disclosureState.value===0},{id:M,...k}=s,C=r.value?{ref:o,type:m.value,onClick:h,onKeydown:b}:{id:(l=e.buttonId.value)!=null?l:M,ref:o,type:m.value,"aria-expanded":e.disclosureState.value===0,"aria-controls":e.disclosureState.value===0||D(e.panel)?e.panelId.value:void 0,disabled:s.disabled?!0:void 0,onClick:h,onKeydown:b,onKeyup:_};return L({ourProps:C,theirProps:k,slot:c,attrs:i,slots:p,name:"DisclosureButton"})}}}),_e=j({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(s,{attrs:i,slots:p,expose:t}){let e=A("DisclosurePanel");z(()=>{s.id!==null&&(e.panelId.value=s.id)}),H(()=>{e.panelId.value=null}),t({el:e.panel,$el:e.panel}),K(q,e.panelId);let v=se(),r=w(()=>v!==null?(v.value&P.Open)===P.Open:e.disclosureState.value===0);return()=>{var o;let m={open:e.disclosureState.value===0,close:e.close},{id:h,...b}=s,_={id:(o=e.panelId.value)!=null?o:h,ref:e.panel};return L({ourProps:_,theirProps:b,slot:m,attrs:i,slots:p,features:V.RenderStrategy|V.Static,visible:r.value,name:"DisclosurePanel"})}}});const ye={class:"mx-auto px-8"},xe={class:"flex justify-between h-16 w-full"},we={class:"flex"},ke={class:"shrink-0 flex items-center"},Se=["href"],De=["src"],$e={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},Be={class:"hidden sm:ml-6 sm:flex sm:items-center"},Ie=a("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),Ce=["src"],Oe={class:"-mr-2 flex items-center sm:hidden"},Pe=a("span",{class:"sr-only"},"Open main menu",-1),Ue={class:"pt-2 pb-3 space-y-1"},Ee={class:"pt-4 pb-3 border-t border-gray-200"},Ne={class:"flex items-center px-4"},je={class:"shrink-0"},Le=["src"],Ae={class:"ml-3"},Me={class:"text-base font-medium text-gray-800"},Te={class:"text-sm font-medium text-gray-500"},Re=a("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),Ve={class:"mt-3 space-y-1"},Ke={__name:"TheSiteHeader",setup(s){const{t:i}=ae(),p=Q(),t=G(),e=[{title:i("navigation.logout"),link:`/${t.companySlug}/customer/login`}],v=X(),r=oe(),o=x(""),m=w(()=>t.currentUser&&t.currentUser.avatar!==0?t.currentUser.avatar:h());function h(){return new URL("/assets/default-avatar.af0113af.jpg",self.location)}re(p,c=>{o.value=c.path},{immediate:!0});const b=w(()=>window.customer_logo?window.customer_logo:!1);function _(c){return p.path.indexOf(c)>-1}function l(){v.logout(t.companySlug).then(c=>{c&&r.push({name:"customer.login"})})}return(c,M)=>{const k=O("router-link"),C=O("BaseDropdownItem"),J=O("BaseDropdown");return g(),S(n(he),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:f(({open:W})=>[a("div",ye,[a("div",xe,[a("div",we,[a("div",ke,[a("a",{href:`/${n(t).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[b.value?(g(),I("img",{key:1,src:b.value,class:"h-6"},null,8,De)):(g(),S(le,{key:0,class:"h-6"}))],8,Se)]),a("div",$e,[(g(!0),I(U,null,E(n(t).mainMenu,u=>(g(),S(k,{key:u.title,to:`/${n(t).companySlug}${u.link}`,class:N([_(u.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:f(()=>[B(y(u.title),1)]),_:2},1032,["to","class"]))),128))])]),a("div",Be,[Ie,d(n(ne),{as:"div",class:"ml-3 relative"},{default:f(()=>[d(J,{"width-class":"w-48"},{activator:f(()=>[d(n(ue),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:f(()=>[a("img",{class:"h-8 w-8 rounded-full",src:m.value,alt:""},null,8,Ce)]),_:1})]),default:f(()=>[d(k,{to:{name:"customer.profile"}},{default:f(()=>[d(C,null,{default:f(()=>[d(n(ie),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),B(" "+y(c.$t("navigation.settings")),1)]),_:1})]),_:1},8,["to"]),d(C,{onClick:l},{default:f(()=>[d(n(ce),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),B(" "+y(c.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),a("div",Oe,[d(n(be),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:f(()=>[Pe,W?(g(),S(n(pe),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(g(),S(n(de),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),d(n(_e),{class:"sm:hidden"},{default:f(()=>[a("div",Ue,[(g(!0),I(U,null,E(n(t).mainMenu,u=>(g(),S(k,{key:u.title,to:`/${n(t).companySlug}${u.link}`,class:N([_(u.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":u.current?"page":void 0},{default:f(()=>[B(y(u.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),a("div",Ee,[a("div",Ne,[a("div",je,[a("img",{class:"h-10 w-10 rounded-full",src:m.value,alt:""},null,8,Le)]),a("div",Ae,[a("div",Me,y(n(t).currentUser.title),1),a("div",Te,y(n(t).currentUser.email),1)]),Re]),a("div",Ve,[(g(),I(U,null,E(e,u=>d(k,{key:u.title,to:u.link,class:N([_(u.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:f(()=>[B(y(u.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},ze={key:0,class:"h-full"},He={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},qe={__name:"LayoutBasic",setup(s){const i=G(),p=Q(),t=w(()=>i.isAppLoaded);e();async function e(){await i.bootstrap(p.params.company)}return(v,r)=>{const o=O("router-view");return t.value?(g(),I("div",ze,[d(me),d(Ke),a("main",He,[d(o)])])):fe("",!0)}}};export{qe as default};
